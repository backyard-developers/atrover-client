# Quad Motor Control Protocol

L293D 모터 쉴드를 사용한 4개 DC 모터 제어 프로토콜 (M1~M4)

## 프로토콜 형식

### 요청 (Android -> Arduino)
```
[STX][모터ID][명령][체크섬][ETX]
```

| 필드 | 바이트 | 값 | 설명 |
|------|--------|-----|------|
| STX | 1 | `<` (0x3C) | 시작 문자 |
| 모터ID | 1 | `1`~`4` | 모터 번호 (M1~M4) |
| 명령 | 1 | `0`, `1`, `2` | 정지/정회전/역회전 |
| 체크섬 | 1 | XOR | 모터ID XOR 명령 |
| ETX | 1 | `>` (0x3E) | 종료 문자 |

### 명령 코드
| 코드 | 동작 |
|------|------|
| `0` | 정지 (RELEASE) |
| `1` | 정회전 (FORWARD) |
| `2` | 역회전 (BACKWARD) |

### 체크섬 계산
```
체크섬 = 모터ID XOR 명령
```

예시:
- 모터1 정회전: `<11\x00>` (체크섬: '1' XOR '1' = 0x00)
- 모터2 역회전: `<22\x00>` (체크섬: '2' XOR '2' = 0x00)
- 모터1 정지: `<10\x01>` (체크섬: '1' XOR '0' = 0x01)

## 응답 (Arduino -> Android)
```
[STX][상태][모터ID][명령][ETX]
```

| 상태 | 의미 |
|------|------|
| `O` | OK - 명령 성공 |
| `E` | Error - 체크섬 오류 |
| `X` | Error - 잘못된 명령 |
| `M` | Error - 잘못된 모터ID |

예시:
- 성공: `<O11>` - 모터1 정회전 성공
- 체크섬 오류: `<E00>`
- 잘못된 명령: `<X13>` - 명령 3은 없음
- 잘못된 모터: `<M31>` - 모터3은 없음

## 타임아웃
- 요청 후 100ms 내 응답 없으면 재전송
- 3회 실패 시 연결 끊김 처리

## 하드웨어 연결
- M1 포트: 모터 1
- M2 포트: 모터 2
- M3 포트: 모터 3
- M4 포트: 모터 4
- 외부 전원 필요 (모터용)

## 라이브러리
- Arduino: AFMotor (Adafruit Motor Shield Library)
